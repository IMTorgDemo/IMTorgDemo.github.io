<!DOCTYPE html>
<html>
<head>
    <title>Formatting for Jupyter (.ipynb) Notebooks // IMTorg Kbase</title>

        <meta charset="utf-8">
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
    <meta name="description" content="">
    <meta name="keywords" content="">
    <meta name="author" content="">
        <meta property="og:title" content="Formatting for Jupyter (.ipynb) Notebooks" />
    <meta property="og:description" content="" />
    <meta property="og:type" content="website" />
    <meta property="og:locale" content="en_US" />
    <meta property="og:url" content="https://imtorgdemo.github.io/posts/blog_test-hugo_blog/" />
    

    <link href="" rel="alternate" type="application/rss+xml" title="IMTorg Kbase" />
    
    
    
    <link rel="apple-touch-icon" sizes="57x57" href="/favico/apple-icon-57x57.png">
	<link rel="apple-touch-icon" sizes="60x60" href="/favico/apple-icon-60x60.png">
	<link rel="apple-touch-icon" sizes="72x72" href="/favico/apple-icon-72x72.png">
	<link rel="apple-touch-icon" sizes="76x76" href="/favico/apple-icon-76x76.png">
	<link rel="apple-touch-icon" sizes="114x114" href="/favico/apple-icon-114x114.png">
	<link rel="apple-touch-icon" sizes="120x120" href="/favico/apple-icon-120x120.png">
	<link rel="apple-touch-icon" sizes="144x144" href="/favico/apple-icon-144x144.png">
	<link rel="apple-touch-icon" sizes="152x152" href="/favico/apple-icon-152x152.png">
	<link rel="apple-touch-icon" sizes="180x180" href="/favico/apple-icon-180x180.png">
	<link rel="icon" type="image/png" sizes="192x192"  href="/android-icon-192x192.png">
	<link rel="icon" type="image/png" sizes="32x32" href="/favico/favicon-32x32.png">
	<link rel="icon" type="image/png" sizes="96x96" href="/favico/favicon-96x96.png">
	<link rel="icon" type="image/png" sizes="16x16" href="/favico/favicon-16x16.png">
	<link rel="manifest" href="/images/favico/manifest.json">
	<meta name="msapplication-TileColor" content="#ffffff">
	<meta name="msapplication-TileImage" content="/ms-icon-144x144.png">
	<meta name="theme-color" content="#ffffff">
    

    <link href="https://imtorgdemo.github.io/webfonts/ptserif/main.css" rel='stylesheet' type='text/css'>
    <link href="https://imtorgdemo.github.io/webfonts/source-code-pro/main.css" rel="stylesheet" type="text/css">

    <link rel="stylesheet" href="https://imtorgdemo.github.io/css/style.css">

    <meta name="generator" content="Hugo 0.55.5" />
</head>


<body>
<div id="container">
    <header id="header">
    <div id="header-outer" class="outer">
        <div id="header-inner" class="inner">
            <a id="main-nav-toggle" class="nav-icon" href="javascript:;"></a>
            
            <a href="https://imtorgdemo.github.io/">
            	<img src="/logo_CA_newblue.png" alt="Logo" style="max-width:100px; padding-top: 10px">
            </a>
            <nav id="main-nav">
                
                <a class="main-nav-link" href="/pages/about/">About</a>
                
                <a class="main-nav-link" href="/categories/">Categories</a>
                
                <a class="main-nav-link" href="/pages/search/">Search</a>
                
            </nav>
            <nav id="sub-nav">
                <div id="search-form-wrap">
                </div>
            </nav>
        </div>
    </div>
</header>

    <section id="main" class="outer">
        <article class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
        <header class="article-header">
            <h1 class="article-title" itemprop="name">Formatting for Jupyter (.ipynb) Notebooks</h1>
        </header>
        
        <div class="article-meta">
            <a href="/posts/blog_test-hugo_blog/" class="article-date">
                <time datetime='2019-05-08T00:00:00.000&#43;00:00' itemprop="datePublished">2019-05-08</time>
            </a>
            
            
            <div class="post-categories">
                <div class="article-category">
                    
                    
                    <a class="article-category-link" href="https://imtorgdemo.github.io//categories/blog">Blog</a>
                    
                    
                    <span>&gt;</span>
                    
                    <a class="article-category-link" href="https://imtorgdemo.github.io//categories/category">Category</a>
                    
                </div>
            </div>
            
            
        </div>
        <div class="article-entry" itemprop="articleBody">
            

<p>This is a test post for formatting Jupyter Notebooks for Hugo.  This workflow makes use of the code at repository <a href="https://github.com/vlunot/nb2hugo">nb2hugo</a>, as well as the beakerx jupyter kernel.</p>

<p>This is will test blog is a complicated workflow.  Begin by running the newest version of JupyterLab.  Run through the basic markdown sections.  Next, try working with the R kernel by using <code>rpy2</code> library.  Run these cells to ensure functionality.</p>

<p>Then close the notebook and re-open it in Beakerx with the beakerx Groovy kernel.  This will ensure that the <code>beakerx</code> object is available for autotranslation.  Try the autotranslated cells.</p>

<p>Finally, change the kernel back to Python and finish running the notebook.</p>

<h2 id="basic-section-headers">Basic Section Headers</h2>

<h3 id="subsection-header">Subsection header</h3>

<p>Cupiditate voluptas sunt velit. Accusantium aliquid expedita excepturi quis laborum autem. Quas occaecati et atque est repellat dolores. Laudantium in molestiae consequatur voluptate ipsa. Nulla quia non qui sed. Voluptatem et enim nesciunt sunt pariatur. Libero eius excepturi voluptatibus reprehenderit. Facere enim neque dolorem sed ullam non. Dolor sit molestias repellendus.</p>

<p>Example of one output</p>

<pre><code class="language-python">print('goodbye!')
</code></pre>

<div class="output">

<pre><code class="language-nb-output">goodbye!
</code></pre>

</div>


<p>Example of multiple outputs</p>

<pre><code class="language-python">print('hello')
print('world')
print('goodbye!')
</code></pre>

<div class="output">

<pre><code class="language-nb-output">hello
world
goodbye!
</code></pre>

</div>


<h3 id="subsection-header-1">Subsection header</h3>

<p>Cupiditate voluptas sunt velit. Accusantium aliquid expedita excepturi quis laborum autem. Quas occaecati et atque est repellat dolores. Laudantium in molestiae consequatur voluptate ipsa. Nulla quia non qui sed. Voluptatem et enim nesciunt sunt pariatur. Libero eius excepturi voluptatibus reprehenderit. Facere enim neque dolorem sed ullam non. Dolor sit molestias repellendus.</p>

<p>This is a footnote as performed with text:<code>[^1]</code>, which follows as.<sup class="footnote-ref" id="fnref:1"><a href="#fn:1">1</a></sup></p>

<p>The bottom of the page can be marked with the following:</p>

<p><code>[^1]: the footnote text.</code></p>

<p>Scroll to the bottom to see the result.</p>

<h2 id="formatting-requirements">Formatting Requirements</h2>

<h3 id="markdown-section">Markdown section</h3>

<p>The post must conform to the following:</p>

<ul>
<li>notebook-filename_must_be_lowercase.ipynb</li>

<li><p>apply metadata formatting</p>

<pre><code># Formatting for Jupyter (.ipynb) Notebooks

Date: 2019-05-08  
Author: Jason Beach  
Categories: Blog, Category  
Tags: jupyter, tag 

&lt;!--eofm--&gt;
</code></pre></li>

<li><p>notebook-name_must_be_lowercase.ipynb</p></li>

<li><p><code>#Title As Above (.ipynb) or part of metadata (.md)</code></p></li>

<li><p><code>## All Second Sections (to ensure proper smartToc)</code></p></li>

<li><p><code>### All third sections</code></p></li>

<li><p>use opening paragraph beneath metadata</p></li>

<li><p>ensure either output, or markdown cell, between code cells</p></li>

<li><p>reference other posts with absolute url: <code>[my post]( https://imtorgdemo.github.io/posts/blog_page-todo/#List-of-Future-Posts)</code></p></li>

<li><p>add external references to documentation <code>[ref](http://domain.com)</code></p></li>
</ul>

<h3 id="latex-section">Latex section</h3>

<p>This is inline latex \(x_i^2\)</p>

<p>The display mode notation <code>\\[c = \\sqrt{a^2 + b^2}\\]</code> becomes:
\[c = \sqrt{a^2 + b^2}\]</p>

<p>This is a latex code block using <code>%%latex</code> cell magic</p>

<p>%%latex
\begin{aligned}
\nabla \times \vec{\mathbf{B}} -\, \frac1c\, \frac{\partial\vec{\mathbf{E}}}{\partial t} &amp; = \frac{4\pi}{c}\vec{\mathbf{j}} <br />
\nabla \cdot \vec{\mathbf{E}} &amp; = 4 \pi \rho <br />
\nabla \times \vec{\mathbf{E}}\, +\, \frac1c\, \frac{\partial\vec{\mathbf{B}}}{\partial t} &amp; = \vec{\mathbf{0}} <br />
\nabla \cdot \vec{\mathbf{B}} &amp; = 0
\end{aligned}</p>

<h3 id="graphic-section">Graphic section</h3>

<pre><code class="language-python">import matplotlib.pyplot as plt
import numpy as np

a=[x for x in range(10)]
b=np.square(a)
plt.plot(a,b)
plt.show()
</code></pre>

<p><img src="output_18_0.png" alt="png" /></p>

<h3 id="dataframes-and-tables">Dataframes and tables</h3>

<pre><code class="language-python">import pandas as pd

d = {'col1': [1,2,3,4,5,6,7], 'col2': [1,2,3,4,5,6,7]}
df = pd.DataFrame(data=d)
df.head()
</code></pre>

<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>col1</th>
      <th>col2</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>1</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2</td>
      <td>2</td>
    </tr>
    <tr>
      <th>2</th>
      <td>3</td>
      <td>3</td>
    </tr>
    <tr>
      <th>3</th>
      <td>4</td>
      <td>4</td>
    </tr>
    <tr>
      <th>4</th>
      <td>5</td>
      <td>5</td>
    </tr>
  </tbody>
</table>
</div>

<h2 id="additional-language-kernels">Additional Language Kernels</h2>

<h3 id="python">Python</h3>

<p>The code above is written in python.  Now, lets try R statistical language.</p>

<h3 id="r-language">R language</h3>

<pre><code class="language-python">%load_ext rpy2.ipython
</code></pre>

<div class="output">

<pre><code class="language-nb-output">The rpy2.ipython extension is already loaded. To reload it, use:
  %reload_ext rpy2.ipython
</code></pre>

</div>


<pre><code class="language-python">%R require(ggplot2)
</code></pre>

<div class="output">

<pre><code class="language-nb-output">array([1], dtype=int32)
</code></pre>

</div>


<pre><code class="language-python">import pandas as pd
df = pd.DataFrame({
        'Letter': ['a', 'a', 'a', 'b', 'b', 'b', 'c', 'c', 'c'],
        'X': [4, 3, 5, 2, 1, 7, 7, 5, 9],
        'Y': [0, 4, 3, 6, 7, 10, 11, 9, 13],
        'Z': [1, 2, 3, 1, 2, 3, 1, 2, 3]
    })
</code></pre>

<pre><code class="language-r">%%R -i df
head(df, 3)
</code></pre>

<div class="output">

<pre><code class="language-nb-output">  Letter X Y Z
0      a 4 0 1
1      a 3 4 2
2      a 5 3 3
</code></pre>

</div>


<pre><code class="language-r">%%R -i df -w 400 -h 300
options(repr.plot.width = 1, repr.plot.height = 0.75)
thm &lt;- theme(
    #panel.background = element_rect(fill = &quot;transparent&quot;), # bg of the panel
    plot.background = element_rect(fill = &quot;transparent&quot;, color = NA), # bg of the plot
    #panel.grid.major = element_blank(), # get rid of major grid
    #panel.grid.minor = element_blank(), # get rid of minor grid
    legend.background = element_rect(fill = &quot;transparent&quot;), # get rid of legend bg
    legend.box.background = element_rect(fill = &quot;transparent&quot;) # get rid of legend panel bg
  )
p &lt;- ggplot(data = df) + geom_point(aes(x = X, y= Y, color = Letter, size = Z))
p + thm
</code></pre>

<p><img src="output_29_0.png" alt="png" /></p>

<h3 id="groovy">Groovy</h3>

<p>Now, the kernel is changed to Groovy to introduce autotranslation.  Autotranslation is only available in beakerx with the Groovy kernel.</p>

<pre><code class="language-python">beakerx.foo = &quot;a groovy value&quot;
</code></pre>

<div class="output">

<pre><code class="language-nb-output">a groovy value
</code></pre>

</div>


<h3 id="javascript">Javascript</h3>

<p>Now, we use javascript.</p>

<pre><code class="language-javascript">%%javascript
beakerx.bar = [23, 48, 7, beakerx.foo];
beakerx.foo
</code></pre>

<p>Back to python</p>

<pre><code class="language-python">%%python
from beakerx import beakerx
beakerx.bar
</code></pre>

<div class="output">

<pre><code class="language-nb-output">[23, 48, 7, 'a groovy value']
</code></pre>

</div>


<h3 id="html">HTML</h3>

<p>The below is written in HTML and is used for rendering within the notebook.</p>

<pre><code class="language-python">%%html
&lt;style&gt;
.node {
    background-color: lightblue;
}
&lt;/style&gt;
&lt;div class=&quot;node&quot;&gt; Hello World &lt;/div&gt;
</code></pre>

<style>
.node {
    background-color: lightblue;
}
</style>

<div class="node"> Hello World </div>

<p>Use the <code>&lt;script&gt;</code> tag to write safe, non-rendering HTML that still allows for correct syntax highlighting.</p>

<pre><code class="language-python">%%html
&lt;script type=&quot;application/text&quot;&gt; 
&lt;style&gt;
.node {
    background-color: lightblue;
}
&lt;/style&gt;
&lt;div class=&quot;node&quot;&gt; Hello World &lt;/div&gt;
&lt;/script&gt;
</code></pre>

<script type="application/text"> 
<style>
.node {
    background-color: lightblue;
}
</style>
<div class="node"> Hello World </div>
</script>

<p>When you use <code>nbconvert</code> to change to markdown, you will receive the following error.  However, the output will be correct.</p>

<pre><code class="language-python">%%output
writer.convert(notebook, site_dir, section)                                              
/usr/local/lib/python3.7/site-packages/nbconvert-5.5.0-py3.7.egg/nbconvert/filters/datatypefilter.
py:41: UserWarning: Your element with mimetype(s) dict_keys(['application/javascript']) is not able to be represented.
  mimetypes=output.keys())
Created 'posts/blog_test-hugo_blog.md'
</code></pre>

<h3 id="back-to-python">Back to python</h3>

<p>Now, manually change the kernel back to python.</p>

<pre><code class="language-python">print('back to python')
</code></pre>

<div class="output">

<pre><code class="language-nb-output">back to python
</code></pre>

</div>


<h2 id="final-section">Final Section</h2>

<p>Cupiditate voluptas sunt velit. Accusantium aliquid expedita excepturi quis laborum autem. Quas occaecati et atque est repellat dolores. Laudantium in molestiae consequatur voluptate ipsa. Nulla quia non qui sed. Voluptatem et enim nesciunt sunt pariatur. Libero eius excepturi voluptatibus reprehenderit. Facere enim neque dolorem sed ullam non. Dolor sit molestias repellendus.</p>

<h2 id="references">References</h2>
<div class="footnotes">

<hr />

<ol>
<li id="fn:1">the reference goes here.
 <a class="footnote-return" href="#fnref:1"><sup>[return]</sup></a></li>
</ol>
</div>

        </div>

        
        
        <div class="article-toc" style="display:none;">
            <h3>Contents</h3>
            <nav id="TableOfContents">
<ul>
<li>
<ul>
<li><a href="#basic-section-headers">Basic Section Headers</a>
<ul>
<li><a href="#subsection-header">Subsection header</a></li>
<li><a href="#subsection-header-1">Subsection header</a></li>
</ul></li>
<li><a href="#formatting-requirements">Formatting Requirements</a>
<ul>
<li><a href="#markdown-section">Markdown section</a></li>
<li><a href="#latex-section">Latex section</a></li>
<li><a href="#graphic-section">Graphic section</a></li>
<li><a href="#dataframes-and-tables">Dataframes and tables</a></li>
</ul></li>
<li><a href="#additional-language-kernels">Additional Language Kernels</a>
<ul>
<li><a href="#python">Python</a></li>
<li><a href="#r-language">R language</a></li>
<li><a href="#groovy">Groovy</a></li>
<li><a href="#javascript">Javascript</a></li>
<li><a href="#html">HTML</a></li>
<li><a href="#back-to-python">Back to python</a></li>
</ul></li>
<li><a href="#final-section">Final Section</a></li>
<li><a href="#references">References</a></li>
</ul></li>
</ul>
</nav>
        </div>
        
        

        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.slim.min.js" integrity="sha256-/SIrNqv8h6QGKDuNoLGA4iret+kyesCkHGzVUUV0shc=" crossorigin="anonymous"></script>
        <script>
            (function() {
                var $toc = $('#TableOfContents');
                if ($toc.length > 0) {
                    var $window = $(window);

                    function onScroll(){
                        var currentScroll = $window.scrollTop();
                        var h = $('.article-entry h1, .article-entry h2, .article-entry h3, .article-entry h4, .article-entry h5, .article-entry h6');
                        var id = "";
                        h.each(function (i, e) {
                            e = $(e);
                            if (e.offset().top - 10 <= currentScroll) {
                                id = e.attr('id');
                            }
                        });
                        var active = $toc.find('a.active');
                        if (active.length == 1 && active.eq(0).attr('href') == '#' + id) return true;

                        active.each(function (i, e) {
                            $(e).removeClass('active').siblings('ul').hide();
                        });
                        $toc.find('a[href="#' + id + '"]').parentsUntil('#TableOfContents').each(function (i, e) {
                            $(e).children('a').addClass('active').siblings('ul').show();
                        });
                    }

                    $window.on('scroll', onScroll);
                    $(document).ready(function() {
                        $toc.find('a').parent('li').find('ul').hide();
                        onScroll();
                        document.getElementsByClassName('article-toc')[0].style.display = '';
                    });
                }
            })();
        </script>
        


        
        <footer class="article-footer">
            <ul class="article-tag-list">
                
                <li class="article-tag-list-item">
                    <a class="article-tag-list-link" href="https://imtorgdemo.github.io//tags/jupyter">jupyter
                    </a>
                </li>
                
                <li class="article-tag-list-item">
                    <a class="article-tag-list-link" href="https://imtorgdemo.github.io//tags/tag">tag
                    </a>
                </li>
                
            </ul>
        </footer>
        
    </div>
    <nav id="article-nav">
    
    <a href="/posts/blog_models-machine_learning/" id="article-nav-newer" class="article-nav-link-wrap">
        <div class="article-nav-title"><span>&lt;</span>&nbsp;
            Generalizing the Machine Learning Process
        </div>
    </a>
    
    
    <a href="/posts/blog_test-my_first_post/" id="article-nav-older" class="article-nav-link-wrap">
        <div class="article-nav-title">Formatting a Markdown Post&nbsp;<span>&gt;</span></div>
    </a>
    
</nav>

</article>

        
    </section>
    <footer id="footer">
    <div class="outer">
        <div id="footer-info" class="inner">
            &copy; 2020 IMTorg Kbase
            <br />
            <b> Want to discuss software?</b><br>Send me a message <a href="mailto:information@mgmt-tech.org?Subject=Open%20Software" target="_top"></a> information@mgmt-tech.org
        </div>
    </div>
    

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/styles/tomorrow-night.min.css" integrity="sha256-2wL88NKUqvJi/ExflDzkzUumjUM73mcK2gBvBBeLvTk=" crossorigin="anonymous" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/highlight.min.js" integrity="sha256-KbfTjB0WZ8vvXngdpJGY3Yp3xKk+tttbqClO11anCIU=" crossorigin="anonymous"></script>
    <script>hljs.initHighlightingOnLoad();</script>

    
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.7.1/katex.min.css" integrity="sha384-wITovz90syo1dJWVh32uuETPVEtGigN07tkttEqPv+uR2SE/mbQcG7ATL28aI9H0" crossorigin="anonymous">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.7.1/katex.min.js" integrity="sha384-/y1Nn9+QQAipbNQWU65krzJralCnuOasHncUFXGkdwntGeSvQicrYkiUBwsgUqc1" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.7.1/contrib/auto-render.min.js" integrity="sha256-ExtbCSBuYA7kq1Pz362ibde9nnsHYPt6JxuxYeZbU+c=" crossorigin="anonymous"></script>
        <script>renderMathInElement(document.body);</script>
    
    <script>
        document.getElementById('main-nav-toggle').addEventListener('click', function () {
            var header = document.getElementById('header');
            if (header.classList.contains('mobile-on')) {
                header.classList.remove('mobile-on');
            } else {
                header.classList.add('mobile-on');
            }
        });
    </script>
    <script 
	src="https://cdnjs.cloudflare.com/ajax/libs/lunr.js/2.3.8/lunr.min.js" 
	integrity="sha256-34Si1Y6llMBKM3G0jQILVeoQKEwuxjbk4zGWXXMT4ps=" 
	crossorigin="anonymous"></script>
	<script src="https://imtorgdemo.github.io/js/search.js"></script>
</footer>
</div>
</body>
</html>
